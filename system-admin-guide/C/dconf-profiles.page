<page xmlns="http://projectmallard.org/1.0/"
      type="topic" style="task"
      id="dconf-profiles">
  <info>
    <revision version="0.1" date="2012-05-21" status="stub"/>
    <link type="guide" xref="index" group="user" />

    <credit type="author copyright">
      <name>Ryan Lortie</name>
      <email>desrt@desrt.ca</email>
      <years>2012</years>
    </credit>

    <desc>Set system-wide default values using dconf's key file directories</desc>
  </info>

  <title>Custom default values for system settings</title>

  <p>System-wide default values can be set using dconf's <em>key file
   directories</em>. These were introduced to support the ability to configure
   the system with a text editor. For any given system database, a corresponding
   directory can be created (with <file>.d</file> added to the filename, for
   example <file>/etc/dconf/db/local.d</file>). This directory contains keyfiles
   in a special format that can be compiled into the dconf database.</p>

  <p>A key file in this directory will look something like this:</p>


<list type="numbered">
  <title>Set the default wallpaper</title>
  <item><p>Create a directory named <file>/etc/dconf/profile</file></p></item>
  <item><p>Edit <file>/etc/dconf/profile/user</file></p>
<code>
user
local
</code></item>

  <item><p>Create a directory named <file>/etc/dconf/db/local.d</file></p></item>
  <item><p>Edit <file>/etc/dconf/db/local.d/00_default-wallpaper</file></p>
<code>
[org/gnome/desktop/background]
picture-uri='file:///usr/local/share/backgrounds/company-wallpaper.jpg'
</code>
</item>
<item><p>Run <cmd>dconf update</cmd></p></item>
</list>
</page>
